# GitHub MCP Server - Provides GitHub issue and repository tools
# Image: ghcr.io/github/github-mcp-server (https://github.com/github/github-mcp-server)
#
# Tools provided:
# - issue_write: Create or update issues
# - add_issue_comment: Add comments to issues
# - issue_read: Get issue details
# - list_issues: Query issues with filters
# - search_issues: Search using GitHub query syntax
---
apiVersion: kagent.dev/v1alpha1
kind: MCPServer
metadata:
  name: github-mcp-server
  namespace: kagent
  labels:
    app.kubernetes.io/name: ai-tech-lead
    app.kubernetes.io/component: mcp-server
spec:
  deployment:
    image: ghcr.io/github/github-mcp-server:latest
    port: 8000
    args:
      - "--toolsets"
      - "issues"
    env:
      - name: GITHUB_PERSONAL_ACCESS_TOKEN
        valueFrom:
          secretKeyRef:
            name: github-credentials
            key: token
  transportType: sse
